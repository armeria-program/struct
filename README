This file is part of deconSTRUCT,
protein structure database search and backbone alignment application.
Written by Ivana Mihalek, with contributions from Mile Sikic.
Copyright (C) 2008-2012 Ivana Mihalek.

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or,
at your option, any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program. If not, see<http://www.gnu.org/licenses/>.

Contact: ivana.mihalek@gmail.com.



DEPENDENCIES
------------

depends on lapack, and  assumes the lapack is installed in /usr/lib/ 
(sudo apt-get install liblapack-dev)


INSTALLING
----------

after unpacking

> cd $STRUCT_HOME/10_objects/
> make
> make clean

the executable called struct should now be in $STRUCT_HOME



USAGE
-----
$STRUCT_HOME/struct -in1 <pdb/db tgt file> [-in2 <pdb/db qry file>] \
        [-c1 <tgt chain>][-c2 <qry chain>][-no_bb][-v][-p <parameter file>]

  -in1/2  input files in db or pdb format (to do the alignment 
          on backbone level, bith files should be pdb
  -c1/2   chains for the pdb inputs 1 and 2
  -no_bb  do not do the alignment on the backbone level
  -v      verbose output
  -p      parameter file



TEST CASES
----------

a) 1-on-1 comparison

> cd $STRUCT_HOME/11_tests/01_2d8bA_1d0nA/
> $STRUCT_HOME/struct -in1 2d8bA.pdb  -in2 1d0nA.pdb

view the results:
> cat   2d8bA_1d0nA.struct_out
> pymol 1d0nA.pdb 2d8bA.to_1d0nA.*.pdb


b) making a db file

> cd $STRUCT_HOME/11_tests/01_2d8bA_1d0nA/
> $STRUCT_HOME/struct -in1 1d0nA.pdb

[[ note: it is possible to use the full pdb file here,
provided you have it available in your directory
> $STRUCT_HOME/struct -in1 1d0n.pdb -c1 A ]]


view the output:
> cat 1d0nA.db


c) database search

> cd $STRUCT_HOME/11_tests/02_db_search
> $STRUCT_HOME/struct -in1 small_test.db -in2 2d8bA.db

view the output
> cat digest.struct_out

view the output sorted by the direction score
[[ note: the "database" we are searching here is a  
   concatenation of db files, like the one produce in  
   the testcase (b); 
   direction is the only info we have in this case ]]

> awk '$1 != "%" && $1 != "done"' digest.struct_out | sort -grk 5

